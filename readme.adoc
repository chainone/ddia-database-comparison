[cols="10*", options="header"]
|===

2+| Distributed Databases/message queues | MySQL | HBase | Cassandra | DynamoDB | MongoDB | ElasticSearch  | Kafka | RabbitMQ

.7+| Replication
| Write
| Single write to leader
a|[.small]
Single write to the target region server
First write needs lookup (location of meta table) in zk first and then the region server that holds meta table and then do the actual write
meta table could be cached in client

| Multi-write, select any node as coordinator node and forward request to the nodes hold the target data
| ? | ? | ? |  Y | ?

| Replication Type
a|[.small]
Single leader, all data replication
a|[.small]
Partition based on key range, write to single region server, replica via HDFS

| Leaderless, partition, multi-writes to selected nodes
| Leaderless
| leader-based
| ?
| leader-based
| leader-based


| Sync/Async Replication
a|[.small]
Configurable, default semi-sync
a|[.small]
Kinda SYNC, Write to WAL(persistent in HDFS) and in member store and then return
a|[.small]
Configurable, the w in quorum ((w + r > n) | Y | Y | ? | Y | Y

| FailureOver
a|[.small]

* Follower: Follower copies latest snapshot from leader and then catch up with binlog
* Leader: Followers will most recent binlog becomes leader, old leader's unreplicated writes are simply discarded

a|[.small]
* ZK: whole cluster is down
* Master: need in-active master as hot backup, otherwise DDL operations will fail
* Region Servers: node recover from WAL, while recovering, that part of data is not available

a|[.small]
NO IMPACT as long as quorum ((w + r > n)) is satisfied

a|[.small]
Should be same as Cassandra | Y | Y | Y | ?


| Replication Topology
a|[.small]
Circular by default | Y | Y | Y |  ? | Y | Y | Y


| Replication Logs
a|[.small]
Originally STATEMENT-BASED, default to LOGICAL(row-based) if any nondeterminism in statement
| WAL
a|[.small]
??? | Y | Y | ? | Y | Y


| Multi-Write Conflict Resolve
a|[.small]
NA (as all writes are sent to leader)
a|[.small]
NA (as writes are region-based, no conflict)
a|[.small]
LWW (last write win)
| Y | Y | ? | Y | Y

.4+| Partition
| Partitioning Strategy
| NA
| Key Range
a|[.small]
First Key Hash, left key range
| ?
a|[.small]
Key range before 2.4 | ? |  Y | ?

| Secondary Indexes
| NA
| ?
| Local
| Global(term-partitioned) | Local | Local | ? | ?

| Rebalancing Strategy
| NA
| Dynamic Partitioning
a|[.small]
Partitioning proportionally to nodes, move split partitions between
| ?
| MongoDB
a|[.small]
Fixed number of partitions, entire partitions moved between nodes
| Kafka
| RabbitMQ

| Request Routing
| NA
a|[.small]
? Routing Tier(or partition aware client?)(ZK)
a|[.small]
Client request to any node and then forward if miss
| DynamoDB
| Routing Tier (its own)
| ES
a|[.small]
? Routing Tier(or partition aware client?)(ZK)
| RabbitMQ
|===
